{"version":3,"sources":["scripts/scripts.js"],"names":["$","toggleText","$btn","currentText","text","newText","hideStatus","$status","slideUp","$button","html","addClass","removeClass","prop","successEmail","$question","val","mailOptions","userQuestion","name","failedText","email","$email","error","failedEmail","data","JSON","stringify","contentType","url","success","response","msg","isValidEmail","err","$name","e","on","preventDefault","target","stopPropagation","closest","sendEmail","jQuery"],"mappings":"iBAAA,UAAAA,GAGC,QAAAC,GAAAC,GAGC,GAAMC,GAAcD,EAAKE,OAD1BC,EAA0B,cAAjBJ,EAAiB,YAAA,WAKN,eAAhBE,GAA+C,cAAhBA,GAAlCD,EAAGC,KAAAA,GAKJ,QAASG,GAAWC,GAHnBL,WAAUG,WACVE,EAAAC,QAAA,MAKG,KADFD,QAAAA,GAAAE,EAAAF,EAAAG,GACAH,EACDI,SAAA,gBAKEC,YAAY,iBAHfF,KAAAA,GACCH,UACEI,KAKFF,EAAQI,KAAK,YAAY,GAEzBP,EAAWC,GAGZ,QAASO,GAAaC,EAAWN,EAASF,EAASG,GAClDK,EAAUC,IAAI,IAEdT,EACEK,YAAY,gBAKdH,SAAQI,iBAHNH,KAAKA,GAKPJ,UAAWC,KAFXE,EAAQI,KAAK,YAAY,GAMzBP,EAAMW,GAGLC,QAAAA,GAAcH,EAAUC,EAAVD,EAAAN,EAAAF,GAHK,GAApBU,IAKAE,KAAMC,EAAAA,MAHLC,MAAMC,EAAON,MAcdP,aAAaM,EAAYC,OAEzBI,EAAAA,8QAWEN,GAAAA,KAAAA,YAAA,GAEDS,EAAAA,MACCC,OAAAA,OACAC,KAAAC,KAAAC,UAAAV,GAfFW,YAAA,mBAiBAC,IAAA,cAZCC,QAAS,SAACC,EAAUC,GActB,MAASC,YAATD,MACCR,GAAWf,EAAAF,EAAAa,OATTN,GAAaC,EAAWN,EAASF,EAAS,oGAe5CgB,MAAA,SAAAW,GACEV,EAAAf,EAAAF,EAAFa,MARD,QAASa,GAAaZ,GAcrB,GAAMc,GAAAA,ggBAEN,OAAMpB,GAAAA,KAAAA,GAVPf,EAAE,WAeAoC,EAAAA,4BAAAC,GAAA,QAAA,SAAAD,GAZAA,EAAEE,iBAEFrC,EAAWD,EAAEoC,EAAEG,UAgBd,IAAAJ,GAAAnC,EAAA,cAZIsB,EAAStB,EAAE,eAchBsB,EAAetB,EAAA,kBAThBS,EAAAT,EAAA,gBAFMO,EAAUP,EAAE,eAejBoC,GAAEI,GAAAA,QAAF,SAAAJ,GAGA,MAFAA,GAAEE,kBAEFL,EAAGX,EAAeA,WAEjBA,GAAAmB,QAAA,eAAA7B,YAAA,iBANFU,GAAAmB,QAAA,eAAA9B,SAAA,eAAAF,EAAQ4B,GAAG,QAAS,SAACD,GAIpB,MAHAA,GAAEI,kBACFJ,EAAEE,iBAECH,EAAMnB,OAASM,EAAON,OAASiB,EAAaX,EAAON,QAAUD,EAAUC,UACzE0B,GAAUP,EAAOb,EAAQP,EAAWN,EAASF,OAI9CiB,GAAYf,EAASF,EAAS,2FAG/BoC","file":"scripts.min.js","sourcesContent":["/* global jQuery */\r\n\r\nvoid function initScripts($){\r\n\t'use strict';\r\n\r\n\tfunction toggleText($btn) {\r\n\t\tconst currentText = $btn.text();\r\n\t\tconst newText = currentText === 'View More' ? 'View Less' : 'View More';\r\n\r\n\t\t// shouldn't be altering the text on this button\r\n\t\tif(currentText !== 'View More' && currentText !== 'View Less') {return;}\r\n\r\n\t\t$btn.text(newText);\r\n\t}\r\n\r\n\tfunction hideStatus($status) {\r\n\t\tsetTimeout(() => {\r\n\t\t\t$status.slideUp(270);\r\n\t\t}, 3000);\r\n\t}\r\n\r\n\tfunction failedEmail($button, $status, html) {\r\n\t\t$status\r\n\t\t\t.addClass('alert-danger')\r\n\t\t\t.removeClass('alert-success')\r\n\t\t\t.html(html)\r\n\t\t\t.slideDown(270);\r\n\r\n\t\t$button.prop('disabled', false);\r\n\r\n\t\thideStatus($status);\r\n\t}\r\n\r\n\tfunction successEmail($question, $button, $status, html) {\r\n\t\t$question.val('');\r\n\r\n\t\t$status\r\n\t\t\t.removeClass('alert-danger')\r\n\t\t\t.addClass('alert-success')\r\n\t\t\t.html(html)\r\n\t\t\t.slideDown(270);\r\n\r\n\t\t$button.prop('disabled', false);\r\n\r\n\t\thideStatus($status);\r\n\t}\r\n\r\n\tfunction sendEmail($name, $email, $question, $button, $status) {\r\n\t\tconst mailOptions = {\r\n\t\t\tname: $name.val(),\r\n\t\t\temail:$email.val(),\r\n\t\t\tuserQuestion: $question.val(),\r\n\t\t}\r\n\t\tconst failedText = `\r\n\t\t\t<p>\r\n\t\t\t\tSomething went wrong, please try again.\r\n\t\t\t</p>\r\n\t\t\t<p>\r\n\t\t\t\tIf this continues to persist, we deeply appologize, \r\n\t\t\t\tbut you can email us directly at \r\n\t\t\t\t<a href=\"mailto:joe@bagusco.com\">joe@bagusco.com</a>\r\n\t\t\t</p>\r\n\t\t`\r\n\r\n\t\t$button.prop('disabled', true);\r\n\r\n\t\t$.ajax({\r\n\t\t\tmethod: 'POST',\r\n\t\t\tdata: JSON.stringify(mailOptions),\r\n\t\t\tcontentType: 'application/json',\r\n\t\t\turl: '/contact-us',\r\n\t\t\tsuccess: (response, msg) => {\r\n\t\t\t\tif (msg !== 'success') {\r\n\t\t\t\t\tfailedEmail($button, $status, failedText);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsuccessEmail($question, $button, $status, '<p class=\"lead\">Thanks for the message!</p><p>We\\'ll get back to you within 1 business day.</p>');\r\n\t\t\t},\r\n\t\t\terror: (err) => {\r\n\t\t\t\tfailedEmail($button, $status, failedText);\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tfunction isValidEmail(email) {\r\n\t\tconst re = /^([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x22([^\\x0d\\x22\\x5c\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x22)(\\x2e([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x22([^\\x0d\\x22\\x5c\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x22))*\\x40([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x5b([^\\x0d\\x5b-\\x5d\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x5d)(\\x2e([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x5b([^\\x0d\\x5b-\\x5d\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x5d))*$/\r\n\r\n\t\treturn re.test(email);\r\n\t}\r\n\r\n\t$(() => {\r\n\t\t//alert('working')\r\n\t\t$('[data-toggle=\"collapse\"]').on('click', (e) => {\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\ttoggleText($(e.target));\r\n\t\t});\r\n\r\n\t\tconst $name = $('#EmailName');\r\n\t\tconst $email = $('#EmailEmail');\r\n\t\tconst $question = $('#EmailQuestion');\r\n\t\tconst $button = $('#EmailSubmit');\r\n\t\tconst $status = $('#EmailStatus');\r\n\r\n\t\t$email.on('input', (e) => {\r\n\t\t\te.stopPropagation();\r\n\r\n\t\t\tif(isValidEmail($email.val())){\r\n\r\n\t\t\t\t$email.closest('.form-group').removeClass('has-error');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t$email.closest('.form-group').addClass('has-error');\r\n\t\t})\r\n\r\n\t\t$button.on('click', (e) => {\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tif($name.val() && $email.val() && isValidEmail($email.val()) && $question.val()) {\r\n\t\t\t\tsendEmail($name, $email, $question, $button, $status);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfailedEmail($button, $status, '<p>All the fields need to be filled out and valid before you can send, thanks!</p>')\r\n\t\t});\r\n\t})\r\n}(jQuery);"]}